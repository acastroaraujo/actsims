---
output: github_document
editor_options: 
  chunk_output_type: console
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# actsims

<!-- badges: start -->
<!-- badges: end -->

`actsims` is an ACT package used for internal development of  `interactShiny`

It is not meant for public consumption.

## Installation

You can install the development version of actsims like so:

``` r
# install.packages("devtools")
devtools::install_github("acastroaraujo/actsims")
```

## Performance

-   `actsims` is easy to use and it is meant to be fast.
-   It uses the R6 OOP system.
-   It is integrated with the `acdata` package.

Create an inteRact object.

```{r example, message=FALSE}
library(actsims)
suppressMessages(library(tidyverse))

act <- interact(dictionary = "usfullsurveyor2015", equation = "us2010")
class(act)
act # custom print
```

This object comes with built in functions. 

Deflection scores.

```{r}
act$deflection(list(A = "deadbeat", B = "kill", O = "god"))
act$deflection(list(A = "deadbeat", B = "kill", O = "deadbeat"))
```

You can also extract useful metadata from these scores.

```{r}
d <- act$deflection(list(A = "ceo", B = "advise", O = "benefactor"))
d
get_fundamentals(d)
get_transients(d)
get_element_wise_deflection(d)
```

You can also do other stuff.

```{r}
act$reidentify_object(list(A = "ceo", B = "advise", O = "benefactor"))
act$optimal_behavior(list(A = "ceo", B = "advise", O = "benefactor"), who = "actor")
```

And you can use a grid of events to estimate multiple deflection scores simultaneously.

```{r}
# create a grid of specific AB0s
events <- tidyr::crossing(
  A = act$dictionary |> dplyr::filter(component == "identity") |> dplyr::pull(term),
  B = act$dictionary |> dplyr::filter(component == "behavior") |> dplyr::pull(term) |> sample(3),
  O = act$dictionary |> dplyr::filter(component == "identity") |> dplyr::pull(term)
) 

glimpse(events)

# calculate deflection for grid
events$d <- act$deflection(events)

events
```

